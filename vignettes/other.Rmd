---
title: "Other Useful"
output: rmarkdown::html_vignette
author: 
  - |
    Shiying Xiao$^1$, Charles Watt$^1$, Jennifer C. Liddle$^2$, Jeremy L. Balsbaugh$^2$, Timothy E. Moore$^3$
  - |
    $^1$Department of Statistics, UConn \
    $^2$Proteomics and Metabolomics Facility, UConn \
    $^3$Statistical Consulting Services, UConn
date: "`r format(file.info('other.Rmd')$mtime, '%Y-%m-%d')`"
bibliography:
  - ../inst/REFERENCES.bib
vignette: >
  %\VignetteIndexEntry{other}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(collapse = TRUE, comment = "#>", fig.align = "center")
```


## Preliminary


```{r warning=FALSE, message=FALSE, results='hide', fig.show='hide'}
## load R package
library(msDiaLogue)
## preprocessing
fileName <- "../tests/testData/Toy_Spectronaut_Data.csv"
dataSet <- preprocessing(fileName,
                         filterNaN = TRUE, filterUnique = 2,
                         replaceBlank = TRUE, saveRm = TRUE)
## transformation
dataTran <- transform(dataSet, logFold = 2)
## normalization
dataNorm <- normalize(dataTran, normalizeType = "quant")
## imputation
dataImput <- impute.min_local(dataNorm, reportImputing = FALSE,
                              reqPercentPresent = 0.51)
## filtering
dataImput <- filterNA(dataImput, saveRm = TRUE)
```


## dataMissing


Function `dataMissing()` is designed to summarize the missingness for each
protein, where `plot = TRUE` indicates plotting the missingness, and
`show_labels = TRUE` means that the protein names are displayed in the printed
plot. Note that the visual representation is not generated by default, and the
plot generation time varies with project size.


```{r}
dataMissing <- dataMissing(dataNorm, plot = TRUE, show_labels = TRUE)
```


The percentage in the protein labels represents the proportion of missing data
in the samples for that protein. For instance, the label "ZN840_HUMAN (8\%)"
indicates that, within all observations for the protein "ZN840_HUMAN", 8\% of
the data is missing. Additionally, the percentage in the legend represents the
proportion of missing data in the whole dataset. In this case, 10.2\% of the
data in `dataNorm` is missing.


Regardless of plot generation, the function `dataMissing()` always returns a
table providing the following information:


+ `count_miss`: The count of missing values for each protein.

+ `pct_miss_col`: The percentage of missing values for each protein.

+ `pct_miss_tot`: The percentage of missing values for each protein relative to
the total missing values in the entire dataset.


<div style="overflow-x: auto;">
```{r echo=FALSE}
knitr::kable(dataMissing)
```
</div>


For example, in the case of the protein "ZN840_HUMAN," there are 1 NA values in
the samples, representing 8.33\% of the missing data for "ZN840_HUMAN" within
that sample and 1.82\% of the total missing data in the entire dataset.


## pullProteinPath


The function `pullProteinPath()` allows you to see the quantitative values
associated with specific proteins at each step of processing, using either the
exact match argument `listname =`, or the text match argument `regexName =`, or
both.


This can be useful for questions such as,


+ "Which of the values for my favorite protein were actually measured, vs.
imputed?"
+ "Why didn't my favorite protein make it to the final list? At what step was it
filtered out?".


It can also be used to check whether the fold-change observed for a specific
protein is an artifact from one of the processing steps.


```{r}
Check <- pullProteinPath(
  listName = c("LYSC_CHICK", "BGAL_ECOLI"),
  regexName = c("BOVIN"),
  by = "PG.ProteinNames",
  dataSetList = list(Initial = dataSet,
                     Transformed = dataTran,
                     Normalized = dataNorm,
                     Imputed = dataImput))
```


<div style="overflow-x: auto;">
```{r echo=FALSE}
knitr::kable(Check)
```
</div>


## sortcondition


```{r}
dataSort <- sortcondition(dataSet)
```


## trimFASTA


<div class="nav-button right-button">
<a href="visualization.html">‚Üê Previous</a>
</div>

